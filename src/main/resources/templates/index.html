<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"></meta>
  <style type="text/css">
    body {
      line-height: 30px;
    }
  </style>
  <script src="../static/js/jquery.min.js" type="text/javascript"></script>
  <script type="text/javascript">
    $(document).ready(function () {
      $("#submitAdd").click(function () {
        var data = $("#addForm").serialize();
        $.ajax({
          type: 'post',
          url: '/dbs/start',
          cache: false,
          data: data,  //重点必须为一个变量如：data
          dataType: 'json',
          success: function (data) {
            alert(data);
          },
          error: function (date) {
            alert("请求失败 保证sql正确性");
          }
        })

      })
      $("#submitTheadAdd").click(function () {
        var data = $("#addForm").serialize();
        $.ajax({
          type: 'post',
          url: '/dbs/startThead',
          cache: false,
          data: data,  //重点必须为一个变量如：data
          dataType: 'json',
          success: function (data) {
            alert(data);
          },
          error: function (date) {
            alert("请求失败 保证sql正确性");
          }
        })

      })

      $("#selectTest").click(function () {
        var data = $("#selectSql").val();
        alert(data)
        $.ajax({
          type: 'post',
          url: '/dbs/testsql',
          cache: false,
          data: { selectSql: data },  //重点必须为一个变量如：data
          dataType: 'json',
          success: function (data) {
            alert(data.message);
          },
          error: function () {
            alert("请求失败 保证sql正确");
          }
        })

      })
    });

  </script>
  <title>Title</title>
</head>
<body style="text-align:center;">
<h2>数据导入</h2>
<hr/>
<div
    style="margin-left:auto;margin-right:auto;width:30%;">
  <div>
    <form method="post" action="" id="addForm" style="text-align:left;">
      <span> 查询sql </span><input type="text" name="selectSql" id="selectSql"/>
      <button type="button" id="selectTest">测试</button><br/>
      <span> 插入sql</span><input type="text" name="insertSql" /><br/>
      <span> 单线程分页条数</span><input type="text" name="limit" value="2000"/><br/>
      <span> 分页开始</span> <input type="text" name="startNumber" value="0"/><br/>
      <span> 核心线程数 </span><input type="text" name="fixThread" value="10"/><br/>
      <span> 多线程分页条数</span> <input type="text" name="threadLimit" value="20000"/><br/>
      <span> 单个线程处理条数 </span> <input type="text" name="threadnum" value="2000"/><br/>

    </form>
    <button type="button" id="submitAdd">单线程提交</button>
    <hr/>
    <button type="button" id="submitTheadAdd">多线程提交</button>
  </div>
</div>


</body>

</html>
